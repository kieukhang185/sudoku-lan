<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sudoku LAN - Home</title>
  <link rel="icon" type="image/png" href="assets/img/favicon.png" />
  <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body class="home-body">
  <div class="home-container">
    <h1>ðŸ§© Sudoku LAN</h1>
    <p class="home-subtitle">Choose how you want to play</p>

    <div class="home-modes">
      <!-- Solo mode -->
      <a class="mode-card" href="solo.html">
        <h2>Play Alone</h2>
        <p>Practice Sudoku by yourself on one board.</p>
      </a>

      <!-- 1 vs 1 on same board (current game) -->
      <button type="button" id="btn-create-room">Create New Room</button>
      <a class="mode-card" href="shared.html?player=1">
        <h2>1 vs 1 â€“ Same Board</h2>
        <p>Two players compete on one shared board in real time.</p>
        <span class="mode-note">Youâ€™ll join as Player 1 by default.</span>
      </a>

      <!-- 1 vs 1 two boards (placeholder) -->
      <a class="mode-card" href="duel.html">
        <h2>1 vs 1 â€“ Two Boards</h2>
        <p>Each player has their own board. First to finish wins.</p>
        <span class="mode-note">(Coming soon â€“ placeholder for now)</span>
      </a>
    </div>
  </div>
  <script>
    // Simple room id generator
    function generateRoomId() {
      return Math.random().toString(36).substring(2, 10);
    }

    // Navigate to solo mode
    const soloBtn = document.getElementById("btn-solo");
    if (soloBtn) {
      soloBtn.addEventListener("click", () => {
        window.location.href = "solo.html";
      });
    }

    // Create a new room and go as Player 1
    const createRoomBtn = document.getElementById("btn-create-room");
    if (createRoomBtn) {
      createRoomBtn.addEventListener("click", () => {
        const roomId = generateRoomId();
        // IMPORTANT: use &player=1, not ?player=1
        window.location.href = `shared.html?room=${encodeURIComponent(roomId)}&player=1`;
      });
    }
  </script>
</body>
</html>
